# ChurnVision Enterprise - Database Environment Configuration
# Copy this file to .env and configure for your environment

#------------------------------------------------------------------------------
# ENVIRONMENT
#------------------------------------------------------------------------------
ENVIRONMENT=development  # development, staging, production

#------------------------------------------------------------------------------
# DATABASE CREDENTIALS
#------------------------------------------------------------------------------
POSTGRES_DB=churnvision
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme  # CHANGE THIS IN PRODUCTION!
POSTGRES_PORT=5432

#------------------------------------------------------------------------------
# POSTGRESQL PERFORMANCE TUNING
#------------------------------------------------------------------------------
# Adjust these based on your server's available RAM
POSTGRES_SHARED_BUFFERS=256MB        # 25% of RAM
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB    # 50-75% of RAM
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_WORK_MEM=4MB
POSTGRES_MAINTENANCE_WORK_MEM=64MB

#------------------------------------------------------------------------------
# PGADMIN (Development Only)
#------------------------------------------------------------------------------
PGADMIN_EMAIL=admin@churnvision.com
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

#------------------------------------------------------------------------------
# BACKUP CONFIGURATION
#------------------------------------------------------------------------------
BACKUP_DIR=./backups
BACKUP_SCHEDULE=0 2 * * *           # Cron format: Daily at 2 AM
BACKUP_RETENTION_DAYS=30
ENCRYPTION_KEY_FILE=/etc/churnvision/backup.key

#------------------------------------------------------------------------------
# MONITORING & ALERTS
#------------------------------------------------------------------------------
MAX_CONNECTIONS_PERCENT=80
MAX_CACHE_HIT_RATIO=95
MAX_DISK_USAGE_PERCENT=85
MAX_LONG_RUNNING_QUERIES=5
